(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,31713,e=>{"use strict";e.s(["default",()=>a]);var t=e.i(43476),r=e.i(71645);function a(){let[e,a]=(0,r.useState)("ready"),[l,n]=(0,r.useState)(2),[s,c]=(0,r.useState)(1),[i,o]=(0,r.useState)(0),[d,u]=(0,r.useState)("Start"),[x,m]=(0,r.useState)(!1),g=(0,r.useRef)(null),b=(0,r.useRef)(null),h=60*l,y=i>0?i/h*100:0,f=i<=60*s?"#ef4444":"#1e40af",p=async()=>{try{"wakeLock"in navigator&&null===b.current&&(b.current=await navigator.wakeLock.request("screen"),m(!0),console.log("Screen wake lock acquired"),b.current.addEventListener("release",()=>{console.log("Screen wake lock released"),m(!1),b.current=null}))}catch(e){console.error("Failed to acquire wake lock:",e),m(!1)}},v=()=>{b.current&&(b.current.release(),b.current=null),m(!1)};return(0,r.useEffect)(()=>("running"===e&&i>0?g.current=setInterval(()=>{o(e=>e<=1?(a("completed"),u("Completed"),0):e-1)},1e3):g.current&&(clearInterval(g.current),g.current=null),()=>{g.current&&(clearInterval(g.current),g.current=null)}),[e,i]),(0,r.useEffect)(()=>{"ready"===e&&o(60*l)},[l,e]),(0,r.useEffect)(()=>{"completed"===e&&v()},[e]),(0,r.useEffect)(()=>()=>{v()},[]),(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:(0,t.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-8 w-full max-w-md",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-center text-gray-800 mb-8",children:"Countdown Timer"}),(0,t.jsxs)("div",{className:"space-y-4 mb-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration (minutes)"}),(0,t.jsx)("input",{type:"number",min:"1",max:"60",value:l,onChange:e=>n(Math.max(1,parseInt(e.target.value)||1)),disabled:"ready"!==e,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Warning Threshold (minutes)"}),(0,t.jsx)("input",{type:"number",min:"1",max:l,value:s,onChange:e=>c(Math.max(1,Math.min(parseInt(e.target.value)||1,l))),disabled:"ready"!==e,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed"})]})]}),(0,t.jsx)("div",{className:"flex justify-center mb-8",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center z-0",children:(0,t.jsx)("div",{className:"w-36 h-36 bg-blue-100 rounded-full flex items-center justify-center border-0",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-gray-800",children:(e=>{let t=Math.floor(e/60);return"".concat(t,":").concat((e%60).toString().padStart(2,"0"))})(i)}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"completed"===e?"Done!":"remaining"})]})})}),(0,t.jsxs)("svg",{width:"200",height:"200",className:"transform -rotate-90 relative z-10",children:[(0,t.jsx)("circle",{cx:"100",cy:"100",r:"90",fill:"none",stroke:"#e5e7eb",strokeWidth:"18",className:"opacity-30"}),(0,t.jsx)("circle",{cx:"100",cy:"100",r:"90",fill:"none",stroke:f,strokeWidth:"18",strokeLinecap:"round",strokeDasharray:"".concat(2*Math.PI*90),strokeDashoffset:"".concat(2*Math.PI*90*(1-y/100)),className:"transition-all duration-1000 ease-linear"})]})]})}),(0,t.jsxs)("div",{className:"flex gap-4 justify-center",children:[(0,t.jsx)("button",{onClick:()=>{"ready"===e||"paused"===e?"ready"===e?(o(h),a("running"),u("Pause"),p()):"paused"===e&&(a("running"),u("Pause"),p()):"running"===e&&(a("paused"),u("Resume"))},disabled:"completed"===e,className:"flex-1 px-6 py-3 rounded-lg font-semibold text-lg transition-all duration-200 ".concat("completed"===e?"bg-gray-400 text-white cursor-not-allowed":"running"===e?"bg-yellow-500 hover:bg-yellow-600 text-white":"bg-blue-500 hover:bg-blue-600 text-white"),children:d}),(0,t.jsx)("button",{onClick:()=>{a("ready"),o(60*l),u("Start"),v(),g.current&&(clearInterval(g.current),g.current=null)},disabled:"ready"===e,className:"flex-1 px-6 py-3 rounded-lg font-semibold text-lg transition-all duration-200 ".concat("ready"===e?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gray-600 hover:bg-gray-700 text-white"),children:"Reset"})]}),(0,t.jsxs)("div",{className:"mt-6 text-center space-y-2",children:[(0,t.jsxs)("div",{className:"inline-block px-3 py-1 rounded-full text-sm font-medium ".concat("ready"===e?"bg-gray-100 text-gray-800":"running"===e?"bg-green-100 text-green-800":"paused"===e?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:["State: ",e.charAt(0).toUpperCase()+e.slice(1)]}),(0,t.jsxs)("div",{className:"inline-block px-3 py-1 rounded-full text-sm font-medium ".concat(x?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-600"),children:["Wake Lock: ",x?"Active":"Inactive"]})]})]})})}}]);